<div [class]="'login-body flex min-h-screen ' + (layoutService.config.colorScheme === 'light' ? 'layout-light':'layout-dark')">
    <div class="login-image w-6 h-screen hidden md:block" style="max-width: 490px;">
        <img [src]="'assets/layout/images/pages/loginimage.jpg'" alt="atlantis" class="h-screen w-full">
    </div>
    <div class="w-full" style="background: var(--surface-ground)">
        <div class="p-fluid min-h-screen bg-auto md:bg-contain bg-no-repeat text-center w-full flex align-items-center md:align-items-start justify-content-center flex-column bg-auto md:bg-contain bg-no-repeat" style="padding: 20% 10% 20% 10%; background: var(--exception-pages-image)">
            <div class="flex flex-column">
                <div class="flex align-items-center mb-6 logo-container">
                    <img [src]="'assets/layout/images/logo-' + (layoutService.config.colorScheme === 'light' ? 'dark' : 'light') + '.png'" class="login-logo" style="width: 45px;" />
                    <img [src]="'assets/layout/images/pages/logo.png'" class="login-appname ml-3" style="width: 100px;" />
                </div>
                <div class="form-container text-left" style="max-width: 320px; min-width: 270px;">
                    <h4 class="m-0 mb-2">Register</h4>
                    <span class="block text-600 font-medium mb-4">Let's get started</span>
                    <form #registerForm="ngForm" (ngSubmit)="onSubmit()" novalidate>
                        <div class="p-inputgroup mb-3">
                            <span class="p-inputgroup-addon">
                                <i class="pi pi-user"></i>
                            </span>
                            <input type="text" [(ngModel)]="username" name="username" autocomplete="off" pInputText placeholder="Username" class="block" style="max-width: 320px; min-width: 270px;" [required]="true" [minlength]="8" #usernameCtrl="ngModel">
                        </div>
                        <div *ngIf="usernameCtrl.invalid && (usernameCtrl.dirty || usernameCtrl.touched)" class="error-messages">
                            <small *ngIf="usernameCtrl.errors?.['required']" class="p-error">Username is required.</small>
                            <small *ngIf="usernameCtrl.errors?.['minlength']" class="p-error">Username must be at least 8 characters long.</small>
                        </div>
                        <div class="p-inputgroup mb-3">
                            <span class="p-inputgroup-addon">
                                <i class="pi pi-envelope"></i>
                            </span>
                            <input type="email" [(ngModel)]="email" name="email" autocomplete="off" pInputText placeholder="Email" class="block" style="max-width: 320px; min-width: 270px;" [required]="true" email #emailCtrl="ngModel">
                        </div>
                        <div *ngIf="emailCtrl.invalid && (emailCtrl.dirty || emailCtrl.touched)" class="error-messages">
                            <small *ngIf="emailCtrl.errors?.['required']" class="p-error">Email is required.</small>
                            <small *ngIf="emailCtrl.errors?.['email']" class="p-error">Invalid email address.</small>
                        </div>
                        <div class="p-inputgroup mb-3">
                            <span class="p-inputgroup-addon">
                                <i class="pi pi-key"></i>
                            </span>
                            <input type="password" [(ngModel)]="password" name="password" autocomplete="off" pInputText placeholder="Password" class="block" style="max-width: 320px; min-width: 270px;" [required]="true" [minlength]="8" #passwordCtrl="ngModel">
                        </div>
                        <div *ngIf="passwordCtrl.invalid && (passwordCtrl.dirty || passwordCtrl.touched)" class="error-messages">
                            <small *ngIf="passwordCtrl.errors?.['required']" class="p-error">Password is required.</small>
                            <small *ngIf="passwordCtrl.errors?.['minlength']" class="p-error">Password must be at least 8 characters long.</small>
                        </div>
                        <div class="p-inputgroup mb-3">
                            <span class="p-inputgroup-addon">
                                <i class="pi pi-phone"></i>
                            </span>
                            <input type="tel" [(ngModel)]="phoneNumber" name="phoneNumber" autocomplete="off" pInputText placeholder="Phone number" class="block" style="max-width: 320px; min-width: 270px;" [required]="true" [pattern]="phonePattern" #phoneCtrl="ngModel">
                        </div>
                        <div *ngIf="phoneCtrl.invalid && (phoneCtrl.dirty || phoneCtrl.touched)" class="error-messages">
                            <small *ngIf="phoneCtrl.errors?.['required']" class="p-error">Phone number is required.</small>
                            <small *ngIf="phoneCtrl.errors?.['pattern']" class="p-error">Invalid phone number.</small>
                        </div>
                        <div class="p-inputgroup mb-3">
                            <span class="p-inputgroup-addon">
                                <i class="pi pi-image"></i>
                            </span>
                            <input type="file" (change)="onFileSelected($event)" class="block" style="max-width: 320px; min-width: 270px;">
                        </div>
                        <div class="mt-2 flex flex-wrap align-items-center">
                            <p-checkbox name="confirmed" [(ngModel)]="confirmed" styleClass="mr-2" [binary]="true" #confirmCtrl="ngModel"></p-checkbox>
                            <label for="confirmed" class="text-900 font-medium mr-2">I have read the</label>
                            <a class="text-600 cursor-pointer hover:text-primary">Terms and Conditions</a>
                        </div>
                        <div *ngIf="confirmCtrl.invalid && (confirmCtrl.dirty || confirmCtrl.touched)" class="error-messages">
                            <small *ngIf="confirmCtrl.errors?.['required']" class="p-error">You must agree to the terms and conditions.</small>
                        </div>
                        <div class="button-container mt-4 text-left" style="max-width: 320px; min-width: 270px;">
                            <div class="buttons flex align-items-center gap-3">
                                <button type="button" pButton label="Cancel" [routerLink]="['/']" class="block p-button-danger p-button-outlined" style="max-width: 320px; margin-bottom: 32px;"></button>
                                <button type="submit" pButton label="Submit" class="block" style="max-width: 320px; margin-bottom: 32px;" [disabled]="registerForm.invalid"></button>
                            </div>
                            <span class="font-medium text-600">Already have an account? <a class="font-semibold cursor-pointer text-900 hover:text-primary transition-colors transition-duration-300" (click)="goToLogin()">Login</a></span>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
